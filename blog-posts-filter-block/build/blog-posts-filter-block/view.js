(()=>{"use strict";var e={338(e,t,a){var n=a(795);t.H=n.createRoot,n.hydrateRoot},795(e){e.exports=window.ReactDOM}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=a(338);const r=window.wp.element,s=window.wp.apiFetch;var l=a.n(s);const i=window.wp.components,o=window.ReactJSXRuntime,c=({perPage:e,page:t,cat:a})=>{const n=new URLSearchParams;return n.set("per_page",String(e)),n.set("page",String(t)),n.set("_embed","1"),n.set("orderby","date"),n.set("order","desc"),a&&Number(a)>0&&n.set("categories",String(a)),`/wp/v2/posts?${n.toString()}`};function d({perPage:e=6,columns:t=3}){const[a,n]=(0,r.useState)([]),[s,d]=(0,r.useState)(0),[m,p]=(0,r.useState)(!0),[u,x]=(0,r.useState)(1),[h,g]=(0,r.useState)([]),[b,f]=(0,r.useState)(1),[j,v]=(0,r.useState)(!0),[y,w]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=!1;return p(!0),l()({path:"/wp/v2/categories?per_page=100&hide_empty=1"}).then(t=>{if(e)return;const a=Array.isArray(t)?t:[];n(a.filter(e=>Number(e?.count||0)>0))}).catch(t=>{e||w(t?.message||"Failed to load categories")}).finally(()=>{e||p(!1)}),()=>{e=!0}},[]),(0,r.useEffect)(()=>{let t=!1;return v(!0),w(""),l()({path:c({perPage:e,page:u,cat:s}),parse:!1}).then(async e=>{const a=await e.json(),n=Number(e.headers.get("X-WP-TotalPages")||"1");t||(g(Array.isArray(a)?a:[]),f(n||1))}).catch(e=>{t||w(e?.message||"Failed to load posts")}).finally(()=>{t||v(!1)}),()=>{t=!0}},[e,u,s]);const N=(0,r.useMemo)(()=>({display:"grid",gridTemplateColumns:`repeat(${t}, minmax(0, 1fr))`,gap:"1.5rem"}),[t]),S=(0,r.useMemo)(()=>Array.from({length:b},(e,t)=>t+1),[b]),k=e=>{d(e),x(1)};return(0,o.jsxs)("div",{className:"hide-wp-block-classes alignwide mb-3",children:[m?(0,o.jsx)(i.Spinner,{}):a.length>0?(0,o.jsxs)("ul",{className:"nav nav-pills blog-filters mb-3",children:[(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)("button",{type:"button",className:"nav-link "+(0===s?"active":""),onClick:()=>k(0),children:"View all"})}),a.map(e=>(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)("button",{type:"button",className:"nav-link "+(s===e.id?"active":""),onClick:()=>k(e.id),children:e.name})},e.id))]}):null,y&&(0,o.jsx)("div",{className:"bpffb-error alert alert-danger",children:y}),j?(0,o.jsx)(i.Spinner,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:N,children:h.map(e=>{const t=(e=>{const t=e?._embedded?.["wp:featuredmedia"]?.[0];return{url:t?.source_url||"",alt:t?.alt_text||""}})(e),a=(n=e,(n?._embedded?.["wp:term"]?.[0]||[]).map(e=>({id:e.id,name:e.name,link:e.link})));var n;const r=((e="",t=200)=>{const a=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),n=(a?a.split(" ").length:0)/t,r=Math.max(1,Math.floor(n)),s=Math.max(r,Math.ceil(n));return r===s?`${r} min`:`${r}â€“${s} min`})(e?.content?.rendered||"");return(0,o.jsxs)("article",{className:"h-100 d-flex flex-column position-relative border-0",children:[t.url&&(0,o.jsx)("img",{className:"mb-3 rounded",src:t.url,alt:t.alt,style:{width:"100%",aspectRatio:"4/3",objectFit:"cover"},loading:"lazy"}),(0,o.jsxs)("div",{className:"d-flex gap-2 align-items-center mb-2 flex-wrap",children:[a.map(e=>(0,o.jsx)("a",{href:e.link,className:"badge rounded-pill text-bg-light text-decoration-none",children:e.name},e.id)),(0,o.jsx)("span",{className:"small text-muted",children:r}),(0,o.jsx)("p",{className:"mb-0 small text-muted",children:"Read"})]}),(0,o.jsx)("h3",{className:"h5 mb-2",dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,o.jsxs)("div",{className:"flex-grow-1 d-flex flex-column justify-content-between",children:[(0,o.jsx)("div",{className:"mb-0 text-muted",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}}),(0,o.jsxs)("a",{className:"stretched-link icon-link mt-2 text-decoration-none",href:e.link,children:["Read more"," ",(0,o.jsx)("span",{"aria-hidden":"true",style:{fontSize:18,lineHeight:1},children:"â€º"})]})]})]},e.id)})}),b>1&&(0,o.jsxs)("div",{className:"pagination justify-content-center mt-4 d-flex gap-2 align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-link prev-next text-decoration-none",onClick:()=>x(e=>Math.max(1,e-1)),disabled:u<=1,children:"Previous"}),(0,o.jsx)("div",{className:"d-flex gap-1",children:S.map(e=>(0,o.jsx)("button",{type:"button",className:"btn btn-link text-decoration-none "+(e===u?"fw-bold":""),onClick:()=>x(e),"aria-current":e===u?"page":void 0,children:e},e))}),(0,o.jsx)("button",{type:"button",className:"btn btn-link prev-next text-decoration-none",onClick:()=>x(e=>Math.min(b,e+1)),disabled:u>=b,children:"Next"})]})]})]})}document.querySelectorAll(".bpffb-root").forEach(e=>{const t=Number(e.dataset.perPage||"6"),a=Number(e.dataset.columns||"3");(0,n.H)(e).render((0,o.jsx)(d,{perPage:t,columns:a}))})})();